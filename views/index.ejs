<head>
    <% include ./partials/styles %>
</head>

<body>

    <% include ./partials/navbar %>


    <section class="hero is-primary">
        <div class="hero-body">
            <div class="container">
                <h1 class="title">
                    Spotifier
                </h1>
                <h2 class="subtitle">
                    A social media focused on sharing your Spotify's liked songs (called List)
                </h2>

                <div class="columns">

                    <div class="column">
                        <a class="button is-dark" href="/users">
                            <strong>See other user's list!</strong>
                        </a>
                        <a class="button is-light" href="/sign_up">Sign Up!</a>

                        <br>
                        <br>

                        <h6 class="subtitle">By signing up, you agree to the <a href="/privacypolicy">privacy policy</a>
                        </h6>

                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="container is-fluid">
        <section class="section">
            <h2 class="title">
                New: Recently Played
            </h2>
            <h2 class="subtitle">
                Some useless feature no one asked for!
            </h2>
            <p>Now on a user's profile, there is a 'Recently Played' section (On mobile, its below the 'Liked Songs'
                section). To apply the new update, existing users would need to Sign In to update their lists (this will
                also update the Liked Songs). For new users, just sign up to apply the new update. For profiles with
                <strong>'This profile has not played any songs yet!'</strong> displaying, it means that you have not
                applied the new update or it is your first time using Spotify... Who knows...</p>
        </section>

        <section class="section">
            <h2 class="title">
                Release of Spotifier
            </h2>
            <h2 class="subtitle">
                Just finished cooking...
            </h2>
            <p>After the intial release of Spotifier, I worked hard on revising the endpoints and making the server more effecient. I did a whole remake of the User Interface and tried my best to use my JavaScript skills. The new version of Spotifier (v2.0.0) uses a whole new sign-in and sign-up system where it is more reliable this time. Sometimes users would encounter a Response error where the server is taking its time to make a user profile. Now, with Promises (in JavaScript), it makes everything fast! Spotifier runs on NodeJS. No fancy programming, I swear!</p>
        </section>
    </div>

    <% include ./partials/footer %>

    <script>
        function authorise_user(client_id, redirect_uri, show_dialog, scope) {
            let redirect_link =
                `https://accounts.spotify.com/authorize?client_id=${client_id}&response_type=token&redirect_uri=${redirect_uri}&show_dialog=${show_dialog}&scope=${scope}`
            return redirect_link
        }

        if (window.location.hash) {
            let token = window.location.hash.substr(1).split("&")[0].split("=")[1];
            window.location = `/post_authentication/${token}?type=new`
        }
    </script>
</body>